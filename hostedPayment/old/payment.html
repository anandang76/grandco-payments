<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Hosted Payment Page Demo</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>
    function initiateHPP () {
      var tokenRequest = {
        ssl_amount: document.getElementById('ssl_amount').value
      };
      $.post("index.php", tokenRequest, function( data ) {
        document.getElementById('ssl_txn_auth_token').value = data;
        transactionToken = data;
      });

      return false;
    }
  </script>
</head>

<body>
<form name="getSessionTokenForm">
  <p>
    Transaction Amount: <input type="text" id="ssl_amount" name="ssl_amount" value="100.00">
  </p>
  <p>
    <button onclick="return initiateHPP();">Initiate Session</button>
  </p>
</form>
    <p></p>
<form action="https://api.demo.convergepay.com/hosted-payments/" method="POST" enctype="application/x-www-form-urlencoded">

  <table border="1" width="40%" bordercolorlight="#C0C0C0" cellspacing="1" bordercolordark="#FFFFFF">
    <tr>
      <td colspan="2"><b><font face="Arial Narrow">Redirect Cardholder to Converge Next Gen HPP - DEMO</font></b></td>
    </tr>
    <tr>
      <td><font face="Arial Narrow">One Time Session Token</font></td>
      <td><font face="Arial Narrow">
      <input id="ssl_txn_auth_token" type="text" name="ssl_txn_auth_token" size="25"></font></td>
    </tr>
    <tr>
      <td colspan="2">
      <p align="center">
      <font face="Arial Narrow">
      <input type="submit" value="Redirect Cardholder to Converge" name="Submit"></font></td>
    </tr>
  </table>
</form>
</body>
</html>
